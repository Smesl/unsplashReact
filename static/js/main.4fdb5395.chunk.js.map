{"version":3,"sources":["components/Image.module.css","components/MyModal/MyModal.module.css","components/MyModal/PhotoDetail.module.css","API/PhotoApi.jsx","components/PhotoDetail/PhotoDetailBody/PhotoDetailBody.jsx","img/notLike.svg","img/like.svg","components/PhotoDetail/PhotoDetailHeader/PhotoDetailHeader.jsx","components/PhotoDetail/PhotoDetailFooter/PhotoDetailFooter.jsx","API/unsplashApi.js","components/PhotoDetail/PhotoDetail.jsx","containers/PhotoDetailContainer/PhotoDetailContainer.jsx","asyncActions/GetPhoto.jsx","actions.js","components/UnsplashImageBody.jsx","components/UnplashImage.jsx","containers/Photo/Photo.jsx","supportFunc.jsx","containers/App.js","store/reducer.jsx","store/statusReducer.jsx","store/index.js","index.js"],"names":["module","exports","unsplash","Unsplash","accessKey","secret","PhotoDetailBody","photoImgThumb","src","alt","PhotoDetailHeader","props","console","log","id","isLiked","likes","toggleLikeUser","photoDetailHeader","styles","className","like","notLike","onClick","PhotoDetailFooter","photoDetailFooter","photoDetailFooter_img","photoDetailFooter_author","href","authorProfileLink","rel","target","authorProfileAvatar","authorName","createdPhoto","apiRoot","callbackUrl","authenticationUrl","auth","getAuthenticationUrl","PhotoDetail","photoDetailContainerWrapper","photoDetailContainer","this","photo","photoDetailStatus","togglePhotoDetailStatus","React","Component","compose","withRouter","connect","state","dataPhoto","photos","status","token","localStorage","getItem","setBearerToken","dispatch","unlikePhoto","likePhoto","then","res","json","type","toggleLike","catch","error","photoId","match","params","filter","p","UnplashImageBody","UnsplashImg","to","UnplashImage","photoImgSmall","useDispatch","cl","listItem","Photo","lastElement","createRef","currentPage","getPhoto","fetchPhoto","isFetching","photoList","photoContainer","map","listPhotos","created_at","liked_by_user","urls","small","thumb","user","name","links","html","profile_image","getPhotoAction","App","exact","path","component","render","defaultState","rootReducer","combineReducers","action","indexArr","findIndex","item","store","createStore","composeWithDevTools","applyMiddleware","thunk","code","window","location","search","split","userAuthentication","setItem","access_token","history","pushState","ReactDOM","document","getElementById","assign"],"mappings":"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","file":"static/js/main.4fdb5395.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"UnsplashImg\":\"Image_UnsplashImg__RYnsu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myModal\":\"MyModal_myModal__1nutx\",\"myModalContent\":\"MyModal_myModalContent__2jqx1\",\"active\":\"MyModal_active__3H2ZP\",\"listItem\":\"MyModal_listItem__2zmHd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoBackground\":\"PhotoDetail_photoBackground__BFzOK\",\"photoList\":\"PhotoDetail_photoList__1rKgi\",\"photoContainer\":\"PhotoDetail_photoContainer__1Tu-A\",\"photoDetailContainer\":\"PhotoDetail_photoDetailContainer__1hzUQ\",\"photoDetailContainerWrapper\":\"PhotoDetail_photoDetailContainerWrapper__1ClUs\",\"photoDetailHeader\":\"PhotoDetail_photoDetailHeader__3Akwj\",\"photoDetailFooter\":\"PhotoDetail_photoDetailFooter__2gTFI\",\"photoDetailFooter_img\":\"PhotoDetail_photoDetailFooter_img__3-ZkZ\",\"photoDetailFooter_author\":\"PhotoDetail_photoDetailFooter_author__3PSNo\"};","import Unsplash from 'unsplash-js';\n\n\n\nexport const API_ROOT = 'https://api.unsplash.com/';\nexport const ACCESS_KEY = \"_lA3lHkE44r0DM1pEbgwrjXpFna7SrgNn4n3fSggVc8\";\nexport const URL_ROOT_PHOTO = 'https://images.unsplash.com/photo-'\nexport const SECRET_KEY = 'D4mBhM0frM4mBFFrX8FF0Zb1cEf8lvQIRPW2PzZZt04'\n\n\nexport const unsplash = new Unsplash({\n    accessKey: ACCESS_KEY,\n    secret: SECRET_KEY,\n});","import React from 'react'\n\nconst PhotoDetailBody = ({photoImgThumb}) => {\n  return (\n    <span>\n      <img\n          src={ photoImgThumb }\n          alt='Изображение'\n      />\n  </span>\n  )\n}\n\nexport default PhotoDetailBody","export default __webpack_public_path__ + \"static/media/notLike.b65bcc72.svg\";","export default __webpack_public_path__ + \"static/media/like.d29e4545.svg\";","import React from 'react'\nimport styles from '../../MyModal/PhotoDetail.module.css'\nimport notLike from '../../../img/notLike.svg'\nimport like from '../../../img/like.svg'\n\nconst PhotoDetailHeader = (props) => {\n    console.log(props)\n    const { id, isLiked, likes, toggleLikeUser} = props;\n    const { photoDetailHeader } = styles;\n  return (\n    <header className={photoDetailHeader}  >\n        <img\n                src={isLiked ? like : notLike}\n                onClick={() => toggleLikeUser(id, isLiked)}\n                alt='like Button'\n        />\n      <span>likes {likes}</span>\n\n    </header>\n  )\n}\n\nexport default PhotoDetailHeader","import React from 'react'\nimport styles from '../../MyModal/PhotoDetail.module.css'\n\nconst PhotoDetailFooter = (props) => {\n    console.log(props)\n    const { photoDetailFooter, photoDetailFooter_img, photoDetailFooter_author } = styles;\n   \n  return (\n    <footer className={ photoDetailFooter}>\n    <a href={ props.authorProfileLink } rel='noopener noreferrer' target='_blank'> \n        <span className={ photoDetailFooter_img}>\n            <img src={props.authorProfileAvatar} alt='Фото профиля'/> \n        </span> \n        <div className={ photoDetailFooter_author}>\n          <span>{props.authorName}</span>\n          <span>{props.createdPhoto}</span>\n        </div>\n      </a>\n    </footer>\n  )\n}\n\nexport default PhotoDetailFooter","import Unsplash from 'unsplash-js';\n\nconst API_ROOT = 'https://api.unsplash.com/';\nconst ACCESS_KEY = \"_lA3lHkE44r0DM1pEbgwrjXpFna7SrgNn4n3fSggVc8\";\nconst URL_ROOT_PHOTO = 'https://images.unsplash.com/photo-'\nconst SECRET_KEY = 'D4mBhM0frM4mBFFrX8FF0Zb1cEf8lvQIRPW2PzZZt04'\n\nexport const unsplash = new Unsplash({\n    apiRoot: 'https://api.unsplash.com/',\n    accessKey: ACCESS_KEY,\n    secret: SECRET_KEY,\n    callbackUrl: 'http://localhost:3000'\n});\n\nexport const authenticationUrl = unsplash.auth.getAuthenticationUrl([\n        \"public\",\n        \"write_likes\"\n])","import React from 'react'\nimport PhotoDetailBody from './PhotoDetailBody/PhotoDetailBody'\nimport disableScroll from 'disable-scroll';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PhotoDetailHeader from './PhotoDetailHeader/PhotoDetailHeader';\nimport styles from '../MyModal/PhotoDetail.module.css'\nimport PhotoDetailFooter from './PhotoDetailFooter/PhotoDetailFooter';\nimport {unsplash, authenticationUrl} from '../../API/unsplashApi';\n\n  class PhotoDetail extends React.Component {\n    render() {\n      console.log(unsplash)\n      const { photoDetailContainerWrapper, photoDetailContainer } = styles;\n      console.log(this.props)\n      const {photo , togglePhotoDetailStatus, photoDetailStatus, toggleLikeUser} = this.props;\n      console.log(photo)\n      console.log(photoDetailStatus)\n      const {photoImgThumb, isLiked, id, likes, authorName, createdPhoto, authorProfileLink, authorProfileAvatar} = photo[0];\n        return (\n          <div className={ photoDetailContainerWrapper } >\n              <PhotoDetailHeader  isLiked={ isLiked } id={ id } likes={ likes } toggleLikeUser={toggleLikeUser} />\n              <PhotoDetailBody photoImgThumb={photoImgThumb}  />\n              <PhotoDetailFooter authorProfileLink={ authorProfileLink } authorName={ authorName } createdPhoto={ createdPhoto } authorProfileAvatar={ authorProfileAvatar } />                         \n          </div>\n        )\n    }\n}\n\nexport default PhotoDetail","import React, { useEffect, useState } from 'react';\nimport {connect} from 'react-redux'\nimport { withRouter } from 'react-router';\nimport { compose } from 'redux';\nimport {togglePhotoDetailStatus} from '../../actions'\nimport {toggleLikeUser} from '../../asyncActions/GetPhoto'\nimport PhotoDetail from '../../components/PhotoDetail/PhotoDetail';\nimport styles from '../../components/MyModal/PhotoDetail.module.css'\n\nconst PhotoDetailContainer = (props) => {\n  console.log(props)\n  const {dataPhoto, photos, photoDetailStatus, togglePhotoDetailStatus, toggleLikeUser} = props;\n  console.log(photos)\n  console.log(photoDetailStatus)\n  const photoId = photos.match.params.id;\n  console.log(photoId)\n  const photo = dataPhoto.photo.filter(p => p.id === photoId);\n  console.log(photo)\n\n  const { photoDetailContainerWrapper, photoDetailContainer } = styles;\n\n  return (\n          <PhotoDetail className={ photoDetailContainerWrapper } \n            photo={ photo } \n            photoDetailStatus = { photoDetailStatus } \n            togglePhotoDetailStatus={togglePhotoDetailStatus} \n            toggleLikeUser = { toggleLikeUser }\n          />\n            \n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n      dataPhoto: state.photos,\n      photoDetailStatus: state.status.photoDetailStatus\n  }\n};\n\n// export default PhotoDetailContainer\nexport default compose(withRouter, connect(mapStateToProps, {toggleLikeUser, togglePhotoDetailStatus}))(PhotoDetailContainer);","import {unsplash} from '../API/PhotoApi';\nimport { API_ROOT, ACCESS_KEY } from '../API/PhotoApi';\nimport { getPhotoAction, toggleIsFetching, toggleLike } from '../actions';\n\nexport const fetchPhoto = (currentPage) => {\n    return dispatch => {\n        dispatch(toggleIsFetching());\n        unsplash.photos.listPhotos(currentPage, 10, 'latest')\n            .then(res => res.json())\n            .then(photos => dispatch(getPhotoAction(photos)))\n            .catch((error) => {console.log(`ОШИБКА!!! ${error}`);})\n    }\n}\n\nexport const toggleLikeUser = (id, isLiked) => {\n    console.log(id, isLiked, unsplash)\n    // console.log(localStorage.getItem('token'))\n    const token = localStorage.getItem('token')\n    console.log(token)\n    unsplash.auth.setBearerToken(token)\n    console.log(unsplash)\n    return dispatch => {\n        (isLiked ? unsplash.photos.unlikePhoto(id) : unsplash.photos.likePhoto(id))\n            .then(res => console.log(res.json()))\n            .then(() => {dispatch(toggleLike(id))})\n            .catch((error) => {console.log(`ОШИБКА!!! ${error}`);})\n    }\n}\n\n\n","import {photosDataNormalize} from './supportFunc'\n\n\nexport const togglePhotoDetailStatus = () => {\n    return {\n        type: 'TOGGLE_IS_PHOTO_DETAIL_STATUS'\n    }\n};\n\nexport const toggleIsFetching = () => {\n    return {\n        type: 'TOGGLE_IS_FETCHING'\n    }\n};\n\nexport const getPhotoAction = (photo) => ({\n        type: 'GET_PHOTO', \n        photos: photosDataNormalize(photo)\n})\n\nexport const toggleLike = (id) => ({\n    type: 'TOGGLE_LIKE', \n    id: id\n})","import React, { useEffect, useState } from 'react';\nimport styles from './Image.module.css'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\n\nconst UnplashImageBody = ({photoImgThumb, id}) => {\n  // console.log(photoImgThumb)\n  \n  const {UnsplashImg} = styles;\n   \n  return (\n        <div className={UnsplashImg}>\n          <Link to={`${id}`} ><img  src={photoImgThumb} alt='Изображение' /> </Link>  \n        </div>        \n  )\n}\n\nexport default UnplashImageBody","import React, { useEffect, useState } from 'react';\nimport Im from './Image.module.css'\nimport cl from './MyModal/MyModal.module.css'\nimport {ACCESS_KEY } from '../API/PhotoApi';\nimport { useHistory, Link } from 'react-router-dom';\nimport MyModal from '../containers/PhotoDetailContainer/PhotoDetailContainer';\nimport { useQueryParams } from '../hooks/useQueryParams';\nimport { useLocation } from \"react-router\"\nimport { useDispatch, useSelector } from 'react-redux';\nimport togglePhotoStatus from '../actions.js'\nimport { photosDataNormalize } from '../supportFunc';\nimport UnplashImageBody from './UnsplashImageBody'\n\nconst UnplashImage = ({photo}) => {\n  // console.log(photo)\n  const {photoImgSmall, photoImgThumb, id} = photo;\n  const dispatch = useDispatch() \n\n  return (\n      <li className={cl.listItem} >\n        <UnplashImageBody photoImgThumb={photoImgThumb} id={id}  />\n      </li>\n      \n  )\n}\n\nexport default UnplashImage;\n","import React, { useEffect, useState } from 'react'\nimport { connect } from 'react-redux';\nimport UnsplashImage from '../../components/UnplashImage'\nimport {fetchPhoto} from '../../asyncActions/GetPhoto'\nimport { useDispatch, useSelector } from 'react-redux';\nimport styles from '../../components/MyModal/PhotoDetail.module.css'\nimport InfiniteScroll from \"react-infinite-scroller\";\nimport { createRef } from 'react';\n  \nclass Photo extends React.Component {\n    constructor(props) {\n        super(props);\n        this.lastElement = createRef();\n    }\n\n\n    render () {\n        console.log(this.lastElement)\n        const { dataPhoto, toggleLikeUser, getPhoto, currentPage, isFetching, fetchPhoto} = this.props;\n        const {photoList, photoContainer} = styles;\n        console.log(this.props)\n        return (\n            <div className={photoContainer}>\n        {/* <InfiniteScroll\n            loadMore={() => dispatch(fetchPhoto())}\n            hasMore={photos ? photos.length > 0 : false}\n        > */}\n            <button onClick={() => fetchPhoto(currentPage)}>Получить фото</button>\n            <ul className={photoList}>\n                {dataPhoto.map((photo) => \n                    <UnsplashImage photo={photo}  key={photo.id}  />,\n                )}\n            </ul>\n            {/* </InfiniteScroll> */}\n                {/* <button ref={this.lastElement} >Получить фото</button> */}\n        </div>\n        )\n        \n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        dataPhoto: state.photos.photo,\n        currentPage: state.photos.currentPage,\n        isFetching: state.status.isFetching\n    }\n};\n\nexport default connect(mapStateToProps, {fetchPhoto})(Photo);\n\n","export const photosDataNormalize = (photos) => {\n    return photos.map(p => {\n        return ({\n            id: p ? p.id : '',\n            createdPhoto: p ? (p.created_at) : '',\n            isLiked: p ? p.liked_by_user : '',\n            likes: p ? p.likes : '0',\n            photoImgThumb: p && p.urls ? p.urls.small : '',\n            photoImgSmall: p && p.urls ? p.urls.thumb : '',\n            authorName: p && p.user ? p.user.name : '',\n            authorProfileLink: p && p.user && p.user.links ? p.user.links.html : '',\n            authorProfileAvatar: p && p.user && p.user.profile_image ? p.user.profile_image.small : ''\n            })\n    })\n}","import React, {useState, useEffect} from 'react'\nimport { BrowserRouter , Route , Link, Redirect } from \"react-router-dom\" \nimport { Router, Switch} from \"react-router\";\nimport Unsplash from 'unsplash-js';\nimport styled from 'styled-components'\nimport {createGlobalStyle} from 'styled-components'\nimport Photo from './Photo/Photo';\nimport PhotoDetailContainer from './PhotoDetailContainer/PhotoDetailContainer';\nimport styles from '../components/MyModal/PhotoDetail.module.css'\n\n\n\nconst App = ()=> {\n  return (\n    <div className=\"App\">\n      <Switch>\n          <Route exact path='/' component={Photo}  /> \n            <Route exact path='/:id' render={ (props) => <PhotoDetailContainer photos={props} />} />   \n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","const defaultState = {\n  photo: [],\n  currentPage: 1\n}\n\nexport const reducer = (state=defaultState, action) => {\n    switch (action.type) {\n      case 'GET_PHOTO':\n        return {\n          ...state, \n            photo: [...state.photo, ...action.photos],\n            currentPage: state.currentPage + 1\n        }\n      case 'TOGGLE_LIKE':\n        const dataPhoto = [...state.photo];\n        const indexArr = dataPhoto.findIndex(item => item.id === action.id);\n        dataPhoto[indexArr].isLiked = !dataPhoto[indexArr].isLiked;\n\n        dataPhoto[indexArr].isLiked ? dataPhoto[indexArr].likes++ : dataPhoto[indexArr].likes--;\n        return {\n          ...state,\n            photo: dataPhoto\n        }\n      default:\n        return state;\n    }\n  \n  }\n\n  \n\n  ","const defaultState = {\n  isFetching: false,\n  photoDetailStatus : false\n}\n\n  \nexport const statusReducer = (state=defaultState, action) => {\n    switch (action.type) {\n        case 'TOGGLE_IS_PHOTO_DETAIL_STATUS' : \n            return {\n              ...state, \n                photoDetailStatus: !state.photoDetailStatus\n            }\n        case 'TOGGLE_IS_FETCHING' : {\n            return {\n                ...state,\n                isFetching: !state.isFetching\n            }\n        }\n            \n            \n      default:\n        return state;\n    }\n  }","import { applyMiddleware, createStore, combineReducers } from 'redux'\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk'\nimport { reducer } from './reducer';\nimport { statusReducer } from './statusReducer';\n\n\nconst rootReducer = combineReducers({\n    photos: reducer,\n    status: statusReducer\n})\n\nexport const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './containers/App';\nimport {BrowserRouter as Router} from 'react-router-dom'\nimport { Provider } from 'react-redux';\nimport {store} from './store'\nimport {unsplash, authenticationUrl} from './API/unsplashApi';\n\nconst code = window.location.search.split('code=')[1];\nconsole.log(code)\nconsole.log(unsplash)\n\nif (code) {\n  unsplash.auth.userAuthentication(code)\n        .then(res => res.json())\n        .then(json => {\n            localStorage.setItem('token', json.access_token);\n            unsplash.auth.setBearerToken(json.access_token);\n        }).then( window.history.pushState(null, null, '/'))\n        .then(\n            ReactDOM.render(\n            <Provider store={store}>\n              <Router>\n                <App />\n              </Router>\n            </Provider>,\n            document.getElementById('root')\n            )\n        )\n} else {\n    window.location.assign(authenticationUrl);\n  }\n"],"sourceRoot":""}